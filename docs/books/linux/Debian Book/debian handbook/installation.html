<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chapter 4. Installation</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 3.0" /><meta name="package" content="Debian-debian-handbook-6.0-en-US-1.0-1" /><meta name="keywords" content="Installation, Partitioning, Formatting, File System, Boot Sector, Hardware Detection" /><link rel="home" href="index.html" title="The Debian Administrator's Handbook" /><link rel="up" href="index.html" title="The Debian Administrator's Handbook" /><link rel="prev" href="sect.how-to-migrate.html" title="3.2. How To Migrate" /><link rel="next" href="sect.installation-steps.html" title="4.2. Installing, Step by Step" /></head><body><p class="hidden" id="title"><a class="left" href="http://www.debian.org"><img src="Common_Content/images/image_left.png" alt="Product Site" /></a><a class="right" href="http://debian-handbook.info"><img src="Common_Content/images/image_right.png" alt="Documentation Site" /></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="sect.how-to-migrate.html"><strong>Prev</strong></a></li><li class="home">The Debian Administrator's Handbook</li><li class="next"><a accesskey="n" href="sect.installation-steps.html"><strong>Next</strong></a></li></ul><div class="chapter" id="installation"><div class="titlepage"><div><div><h2 class="title">Chapter 4. Installation</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="installation.html#sect.installation-methods">4.1. Installation Methods</a></span></dt><dd><dl><dt><span class="section"><a href="installation.html#section.install-cd">4.1.1. Installing from a CD-ROM/DVD-ROM</a></span></dt><dt><span class="section"><a href="installation.html#section.install-usb">4.1.2. Booting from a USB Key</a></span></dt><dt><span class="section"><a href="installation.html#section.install-net">4.1.3. Installing through Network Booting</a></span></dt><dt><span class="section"><a href="installation.html#section.install-auto">4.1.4. Other Installation Methods</a></span></dt></dl></dd><dt><span class="section"><a href="sect.installation-steps.html">4.2. Installing, Step by Step</a></span></dt><dd><dl><dt><span class="section"><a href="sect.installation-steps.html#section.install-boot">4.2.1. Booting and Starting the Installer</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#section.install-lang">4.2.2. Selecting the language</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#section.install-pays">4.2.3. Selecting the country</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#section.install-clavier">4.2.4. Selecting the keyboard layout</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#section.install-detection-cdrom">4.2.5. Detecting Hardware</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#section.install-chargement-composants">4.2.6. Loading Components</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#section.install-detection-reseau">4.2.7. Detecting Network Hardware</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#section.install-config-reseau">4.2.8. Configuring the Network</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#section.install-config-horloge">4.2.9. Configuring the Clock</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#idp12604576">4.2.10. Administrator Password</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#idp12610320">4.2.11. Creating the First User</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#section.install-detection-disques">4.2.12. Detecting Disks and Other Devices</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#section.install-partman">4.2.13. Starting the Partitioning Tool</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#idp10225864">4.2.14. Installing the Base System</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#idp10230280">4.2.15. Configuring the Package Manager (<code class="command">apt</code>)</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#idp10241944">4.2.16. Debian Package Popularity Contest</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#idp10244016">4.2.17. Selecting Packages for Installation</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#idp10248280">4.2.18. Installing the GRUB Bootloader</a></span></dt><dt><span class="section"><a href="sect.installation-steps.html#idp10261032">4.2.19. Finishing the Installation and Rebooting</a></span></dt></dl></dd><dt><span class="section"><a href="sect.after-first-boot.html">4.3. After the First Boot</a></span></dt><dd><dl><dt><span class="section"><a href="sect.after-first-boot.html#idp10265056">4.3.1. Installing Additional Software</a></span></dt><dt><span class="section"><a href="sect.after-first-boot.html#idp10277856">4.3.2. Upgrading the System</a></span></dt></dl></dd></dl></div><div class="highlights"><div class="para"><p></p>
		To use Debian, you need to install it on a computer; this task is taken care of by the <span class="emphasis"><em>debian-installer</em></span> program. A proper installation involves many operations. This chapter reviews them in their chronological order.
	</div></div><a id="idp2411816" class="indexterm"></a><div class="sidebar important"><div class="titlepage"><div><div><h6><span class="emphasis"><em>BACK TO BASICS</em></span> A catch-up course in the appendices</h6></div></div></div><div class="para"><p></p>
		Installing a computer is always simpler when you are familiar with the way it works. If you are not, make a quick detour to <a class="xref" href="short-remedial-course.html">Appendix B, <em>Short Remedial Course</em></a> before reading this chapter.
	</div></div><div class="para"><p></p>
		The installer for <span class="distribution distribution">Squeeze</span> is based on <code class="command">debian-installer</code>. Its modular design enables it to work in various scenarios and allows it to evolve and adapt to changes. Despite the limitations implied by the need to support a large number of architectures, this installer is very accessible to beginners, since it assists users at each stage of the process. Automatic hardware detection, guided partitioning, and graphical user interfaces have solved most of the problems that newbies used to face.
	</div><a id="idp4946320" class="indexterm"></a><a id="idp7074344" class="indexterm"></a><div class="para"><p></p>
		Installation requires 56 MB of RAM (Random Access Memory) and at least 650 MB of hard drive space. All Falcot computers meet these criteria. Note, however, that these figures apply to the installation of a very limited system without a graphical desktop. A minimum of 512 MB of RAM and 5 GB of hard drive space are really recommended for a basic office desktop workstation.
	</div><div class="sidebar fil"><div class="titlepage"><div><div><h6><span class="emphasis"><em>BEWARE</em></span> Upgrading from Lenny</h6></div></div></div><div class="para"><p></p>
		If you already have Debian Lenny installed on your computer, this chapter is not for you! Unlike other distributions, Debian allows updating a system from one version to the next without having to reinstall the system. Reinstalling, in addition to being unnecessary, could even be dangerous, since it could remove already installed programs.
	</div><div class="para"><p></p>
		The upgrade process will be described in <a class="xref" href="sect.dist-upgrade.html">Section 6.6, “Upgrading from One Stable Distribution to the Next”</a>.
	</div></div><div class="section"><div class="titlepage"><div><div><h2 class="title" id="sect.installation-methods">4.1. Installation Methods</h2></div></div></div><div class="para"><p></p>
			A Debian system can be installed from several types of media, as long as the BIOS of the machine allows it. You can for instance boot with a CD-ROM, a USB key, or even through a network.
		</div><div class="sidebar"><div class="titlepage"><div><div><h6><span class="emphasis"><em>BACK TO BASICS</em></span> BIOS, the hardware/software interface</h6></div></div></div><a id="idp5581872" class="indexterm"></a><a id="idp6767728" class="indexterm"></a><div class="para"><p></p>
			BIOS (which stands for Basic Input/Output System) is a software that is included in the motherboard (the electronic board connecting all peripherals) and executed when the computer is booted, in order to load an operating system (via an adapted bootloader). It stays in the background to provide an interface between the hardware and the software (in our case, the Linux kernel).
		</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="section.install-cd">4.1.1. Installing from a CD-ROM/DVD-ROM</h3></div></div></div><div class="para"><p></p>
				The most widely used installation media is CD-ROM (or DVD-ROM, which behaves exactly the same way): the computer is booted from this media, and the installation program takes over.
			</div><div class="para"><p></p>
				Various CD-ROMs have different purposes: <span class="emphasis"><em>netinst</em></span> (network installation) contains the installer and the base Debian system; all other programs are then downloaded. Its “image”, that is the ISO-9660 filesystem that contains the exact contents of the disk, only takes up about 150 MB. Then we have the <span class="emphasis"><em>businesscard</em></span> or <span class="emphasis"><em>bizcard</em></span> CD-ROM, which only provides the installer, and which requires all the Debian packages (including the base system) to be downloaded. Since its image only takes up 35 MB, it can be burnt on a “business card” type CD-ROM, from which it takes its name. Finally, the complete set offers all packages and allows for installation on a computer that has no Internet access; it requires around 50 CD-ROMs (or eight DVD-ROMs, or two Blu-ray disks). But the programs are divided among the disks according to their popularity and importance; the first three disks will be sufficient for most installations, since they contain the most used software.
			</div><div class="sidebar"><div class="titlepage"><div><div><h6><span class="emphasis"><em>TIP</em></span> Multi-architecture disks</h6></div></div></div><div class="para"><p></p>
				Most installation CD- and DVD-ROMs work only with a specific hardware architecture. If you wish to download the complete images, you must take care to choose those which work on the hardware of the computer on which you wish to install them.
			</div><div class="para"><p></p>
				Some CD/DVD-ROM images can work on several architectures. We thus have a <span class="emphasis"><em>netinst</em></span> CD-ROM image for the <span class="emphasis"><em>i386</em></span> and <span class="emphasis"><em>amd64</em></span> architectures. There is also a DVD-ROM image that contains the installer and a selection of binary packages for <span class="emphasis"><em>i386</em></span> and <span class="emphasis"><em>amd64</em></span>, as well as the corresponding source packages.
			</div></div><a id="idp3953392" class="indexterm"></a><a id="idp3954096" class="indexterm"></a><a id="idp3954880" class="indexterm"></a><a id="idp3955664" class="indexterm"></a><a id="idp3956368" class="indexterm"></a><a id="idp3957152" class="indexterm"></a><div class="para"><p></p>
				To acquire Debian CD-ROM images, you may of course download them and burn them to disk. You may also purchase them, and, thus, provide the project with a little financial support. Check the website to see the list of CD-ROM image vendors and download sites. <div xmlns="" class="url">→ <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.debian.org/CD/index.html">http://www.debian.org/CD/index.html</a></div>
			</div><div class="sidebar fil"><div class="titlepage"><div><div><h6><span class="emphasis"><em>IN PRACTICE</em></span> Debian on CD-ROM</h6></div></div></div><div class="para"><p></p>
				<a id="idp4581120" class="indexterm"></a>
				 Debian CD-/DVD-ROMs can also be purchased; Raphaël Hertzog proposes some on his blog, where 10% of the profit is donated to the Debian Project, the remainder of which allows him to devote more time to Debian. <div xmlns="" class="url">→ <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.debian.org/CD/vendors/">http://www.debian.org/CD/vendors/</a></div> <div xmlns="" class="url">→ <a xmlns="http://www.w3.org/1999/xhtml" href="http://raphaelhertzog.com/go/debian-cd/">http://raphaelhertzog.com/go/debian-cd/</a></div>
			</div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="section.install-usb">4.1.2. Booting from a USB Key</h3></div></div></div><a id="idp4583624" class="indexterm"></a><div class="para"><p></p>
				Since recent computers are able to boot from USB devices, you can also install Debian from a USB key (this is nothing more than a small flash-memory disk). Be aware, however, that not all BIOSes are the same; some are able to boot from USB 2.0 devices, while others only work with USB 1.1. Besides, the USB key must have 512-bytes sectors, and this feature, while common, is never documented on the packaging of the keys you find for sale.
			</div><div class="para"><p></p>
				The installation manual explains how to create a USB key that contains the <code class="command">debian-installer</code>. The procedure has been significantly simplified with <span class="distribution distribution">Squeeze</span>, since the ISO images for i386 and amd64 architectures are hybrid images that can boot from a CD-ROM as as well as from a USB key.
			</div><div class="para"><p></p>
				You must first identify the peripheral name of the USB key (ex: <code class="literal">/dev/sdb</code>); the simplest means to do this is to check the messages issued by the kernel using the <code class="command">dmesg</code> command. Then you must copy the previously downloaded ISO image (for example debian-6.0.0-amd64-i386-netinst.iso) with the command <code class="command">cat debian-6.0.0-amd64-i386-netinst.iso &gt;/dev/sdb; sync</code>. This command requires administrator rights, since it directly accesses the USB key peripheral and blindly erases its content.
			</div><div class="para"><p></p>
				A more detailed explanation is available in the installation manual. Among other things, it describes an alternative method of preparing a USB key that is more complex, but that allows to customize the installer's default options (those set in the kernel command line). <div xmlns="" class="url">→ <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.debian.org/releases/stable/i386/ch04s03.html">http://www.debian.org/releases/stable/i386/ch04s03.html</a></div>
			</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="section.install-net">4.1.3. Installing through Network Booting</h3></div></div></div><a id="idp6817992" class="indexterm"></a><a id="idp6818760" class="indexterm"></a><a id="idp6819528" class="indexterm"></a><div class="para"><p></p>
				Many BIOSes allow booting directly from the network by downloading the kernel to boot. This method (which has several names, such as <acronym class="acronym">PXE</acronym> or <acronym class="acronym">TFTP</acronym> boot) can be a life-saver if the computer does not have a CD-ROM reader, or if the BIOS can't boot from such media.
			</div><div class="para"><p></p>
				This installation method works in two steps. First, while booting the computer, the BIOS (or the network card) issues a BOOTP/DHCP request to automatically acquire an IP address. When a BOOTP or DHCP server returns a response, it includes a filename, as well as network settings. After having configured the network, the client computer then issues a TFPT (Trivial File Transfer Protocol) request for a file whose name was previously indicated. Once this file is acquired, it is executed as though it were a bootloader. This then launches the Debian installation program, which is executed as though it were running from the hard drive, a CD-ROM, or a USB key.
			</div><div class="para"><p></p>
				All the details of this method are available in the installation guide (“Preparing files for TFTP Net Booting” section). <div xmlns="" class="url">→ <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.debian.org/releases/stable/i386/ch05s01.html#boot-tftp">http://www.debian.org/releases/stable/i386/ch05s01.html#boot-tftp</a></div><div xmlns="" class="url">→ <a xmlns="http://www.w3.org/1999/xhtml" href="http://www.debian.org/releases/stable/i386/ch04s05.html">http://www.debian.org/releases/stable/i386/ch04s05.html</a></div>
			</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="section.install-auto">4.1.4. Other Installation Methods</h3></div></div></div><div class="para"><p></p>
				When we have to deploy customized installations for a large number of computers, we generally choose an automated rather than a manual installation method. Depending on the situation and the complexity of the installations to be made, we can use FAI (Fully Automatic Installer, described in <a class="xref" href="sect.automated-installation.html#fai">Section 12.3.1, “Fully Automatic Installer (FAI)”</a>), or even a customized installation CD with preseeding (see <a class="xref" href="sect.automated-installation.html#d-i-preseeding">Section 12.3.2, “Preseeding Debian-Installer”</a>).
			</div></div></div></div><div id="site_footer"></div><script type="text/javascript">
		$("#site_footer").load("../../../../../footer.html");
	</script><ul class="docnav"><li class="previous"><a accesskey="p" href="sect.how-to-migrate.html"><strong>Prev</strong>3.2. How To Migrate</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="sect.installation-steps.html"><strong>Next</strong>4.2. Installing, Step by Step</a></li></ul></body></html>
