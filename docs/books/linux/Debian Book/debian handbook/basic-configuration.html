<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chapter 8. Basic Configuration: Network, Accounts, Printing...</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 3.0" /><meta name="package" content="Debian-debian-handbook-6.0-en-US-1.0-1" /><meta name="keywords" content="Configuration, Localization, Locales, Network, Name resolution, Users, Groups, Accounts, Command-line interpreter, Shell, Printing, Bootloader, Kernel compiling" /><link rel="home" href="index.html" title="The Debian Administrator's Handbook" /><link rel="up" href="index.html" title="The Debian Administrator's Handbook" /><link rel="prev" href="sect.common-procedures.html" title="7.2. Common Procedures" /><link rel="next" href="sect.config-network.html" title="8.2. Configuring the Network" /></head><body><p class="hidden" id="title"><a class="left" href="http://www.debian.org"><img src="Common_Content/images/image_left.png" alt="Product Site" /></a><a class="right" href="http://debian-handbook.info"><img src="Common_Content/images/image_right.png" alt="Documentation Site" /></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="sect.common-procedures.html"><strong>Prev</strong></a></li><li class="home">The Debian Administrator's Handbook</li><li class="next"><a accesskey="n" href="sect.config-network.html"><strong>Next</strong></a></li></ul><div class="chapter" id="basic-configuration"><div class="titlepage"><div><div><h2 class="title">Chapter 8. Basic Configuration: Network, Accounts, Printing...</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="basic-configuration.html#sect.config-language-support">8.1. Configuring the System for Another Language</a></span></dt><dd><dl><dt><span class="section"><a href="basic-configuration.html#section.langue-par-defaut">8.1.1. Setting the Default Language</a></span></dt><dt><span class="section"><a href="basic-configuration.html#section.config-clavier">8.1.2. Configuring the Keyboard</a></span></dt><dt><span class="section"><a href="basic-configuration.html#section.migration-utf8">8.1.3. Migrating to UTF-8</a></span></dt></dl></dd><dt><span class="section"><a href="sect.config-network.html">8.2. Configuring the Network</a></span></dt><dd><dl><dt><span class="section"><a href="sect.config-network.html#section.interface-ethernet">8.2.1. Ethernet Interface</a></span></dt><dt><span class="section"><a href="sect.config-network.html#section.ppp-rtc">8.2.2. Connecting with PPP through a PSTN Modem</a></span></dt><dt><span class="section"><a href="sect.config-network.html#section.adsl">8.2.3. Connecting through an ADSL Modem</a></span></dt><dt><span class="section"><a href="sect.config-network.html#sect.config-reseau-itinerante">8.2.4. Automatic Network Configuration for Roaming Users</a></span></dt></dl></dd><dt><span class="section"><a href="sect.hostname-name-service.html">8.3. Setting the Hostname and Configuring the Name Service</a></span></dt><dd><dl><dt><span class="section"><a href="sect.hostname-name-service.html#section.resolution-noms">8.3.1. Name Resolution</a></span></dt></dl></dd><dt><span class="section"><a href="sect.user-group-databases.html">8.4. User and Group Databases</a></span></dt><dd><dl><dt><span class="section"><a href="sect.user-group-databases.html#section.etc-passwd">8.4.1. User List: <code class="filename">/etc/passwd</code></a></span></dt><dt><span class="section"><a href="sect.user-group-databases.html#section.etc-shadow">8.4.2. The Hidden and Encrypted Password File: <code class="filename">/etc/shadow</code></a></span></dt><dt><span class="section"><a href="sect.user-group-databases.html#section.modifier-compte">8.4.3. Modifying an Existing Account or Password</a></span></dt><dt><span class="section"><a href="sect.user-group-databases.html#section.bloquer-compte">8.4.4. Disabling an Account</a></span></dt><dt><span class="section"><a href="sect.user-group-databases.html#section.etc-group">8.4.5. Group List: <code class="filename">/etc/group</code></a></span></dt></dl></dd><dt><span class="section"><a href="sect.creating-accounts.html">8.5. Creating Accounts</a></span></dt><dt><span class="section"><a href="sect.shell-environment.html">8.6. Shell Environment</a></span></dt><dt><span class="section"><a href="sect.config-printing.html">8.7. Printer Configuration</a></span></dt><dt><span class="section"><a href="sect.config-bootloader.html">8.8. Configuring the Bootloader</a></span></dt><dd><dl><dt><span class="section"><a href="sect.config-bootloader.html#section.identifier-disques">8.8.1. Identifying the Disks</a></span></dt><dt><span class="section"><a href="sect.config-bootloader.html#section.config-lilo">8.8.2. Configuring LILO</a></span></dt><dt><span class="section"><a href="sect.config-bootloader.html#section.config-grub">8.8.3. GRUB 2 Configuration</a></span></dt><dt><span class="section"><a href="sect.config-bootloader.html#section.config-grub-legacy">8.8.4. GRUB Legacy Configuration</a></span></dt><dt><span class="section"><a href="sect.config-bootloader.html#section.config-yaboot">8.8.5. For Macintosh Computers (PowerPC): Configuring Yaboot</a></span></dt></dl></dd><dt><span class="section"><a href="sect.config-misc.html">8.9. Other Configurations: Time Synchronization, Logs, Sharing Access...</a></span></dt><dd><dl><dt><span class="section"><a href="sect.config-misc.html#section.fuseau-horaire">8.9.1. Timezone</a></span></dt><dt><span class="section"><a href="sect.config-misc.html#section.synchronisation-horaire">8.9.2. Time Synchronization</a></span></dt><dt><span class="section"><a href="sect.config-misc.html#section.rotation-logs">8.9.3. Rotating Log Files</a></span></dt><dt><span class="section"><a href="sect.config-misc.html#section.partage-droits-admin">8.9.4. Sharing Administrator Rights</a></span></dt><dt><span class="section"><a href="sect.config-misc.html#section.liste-points-montage">8.9.5. List of Mount Points</a></span></dt><dt><span class="section"><a href="sect.config-misc.html#section.locate-updatedb">8.9.6. <code class="command">locate</code> and <code class="command">updatedb</code></a></span></dt></dl></dd><dt><span class="section"><a href="sect.kernel-compilation.html">8.10. Compiling a Kernel</a></span></dt><dd><dl><dt><span class="section"><a href="sect.kernel-compilation.html#section.compil-noyau-prerequis">8.10.1. Introduction and Prerequisites</a></span></dt><dt><span class="section"><a href="sect.kernel-compilation.html#section.sources-noyau">8.10.2. Getting the Sources</a></span></dt><dt><span class="section"><a href="sect.kernel-compilation.html#section.config-noyau">8.10.3. Configuring the Kernel</a></span></dt><dt><span class="section"><a href="sect.kernel-compilation.html#section.compilation-generation-noyau">8.10.4. Compiling and Building the Package</a></span></dt><dt><span class="section"><a href="sect.kernel-compilation.html#section.compilation-modules">8.10.5. Compiling External Modules</a></span></dt><dt><span class="section"><a href="sect.kernel-compilation.html#section.patch-noyau">8.10.6. Applying a Kernel Patch</a></span></dt></dl></dd><dt><span class="section"><a href="sect.kernel-installation.html">8.11. Installing a Kernel</a></span></dt><dd><dl><dt><span class="section"><a href="sect.kernel-installation.html#section.paquet-noyau">8.11.1. Features of a Debian Kernel Package</a></span></dt><dt><span class="section"><a href="sect.kernel-installation.html#section.installation-paquet-noyau">8.11.2. Installing with <code class="command">dpkg</code></a></span></dt></dl></dd></dl></div><div class="highlights"><div class="para"><p></p>
		A computer with a new installation created with <code class="command">debian-installer</code> is intended to be as functional as possible, but many services still have to be configured. Furthermore, it is always good to know how to change certain configuration elements defined during the initial installation process.
	</div></div><div class="para"><p></p>
		This chapter reviews everything included in what we could call the “basic configuration”: networking, language and locales, users and groups, printing, mount points, etc.
	</div><div class="section"><div class="titlepage"><div><div><h2 class="title" id="sect.config-language-support">8.1. Configuring the System for Another Language</h2></div></div></div><a id="idp5169592" class="indexterm"></a><div class="para"><p></p>
			If the system was installed using French, the machine will probably already have French set as the default language. But it is good to know what the installer does to set the language, so that later, if the need arises, you can change it.
		</div><div class="sidebar fil"><div class="titlepage"><div><div><h6><span class="emphasis"><em>TOOL</em></span> The <code class="command">locale</code> command to display the current configuration</h6></div></div></div><div class="para"><p></p>
			The <code class="command">locale</code> command lists a summary of the current configuration of various locale parameters (date format, numbers format, etc.), presented in the form of a group of standard environment variables dedicated to the dynamic modification of these settings.
		</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="section.langue-par-defaut">8.1.1. Setting the Default Language</h3></div></div></div><a id="idp4263288" class="indexterm"></a><a id="idp13416872" class="indexterm"></a><a id="idp13013064" class="indexterm"></a><div class="para"><p></p>
				A locale is a group of regional settings. This includes not only the language for text, but also the format for displaying numbers, dates, times, and monetary sums, as well as the method for alphabetical comparison (for alphabetically ordering items, to include accented characters, where applicable). Although each of these parameters can be specified independently from the others, we generally will use one locale, which is a coherent set of values for these parameters corresponding to a “region” in the broadest sense. These locales are usually indicated under the form, <code class="literal"><em class="replaceable"><code>language-code</code></em>_<em class="replaceable"><code>COUNTRY-CODE</code></em></code>, sometimes with a suffix to specify the character set and encoding to be used. This enables consideration of idiomatic or typographical differences between different regions with a common language.
			</div><div class="sidebar"><div class="titlepage"><div><div><h6><span class="emphasis"><em>CULTURE</em></span> Character sets</h6></div></div></div><a id="idp5570928" class="indexterm"></a><a id="idp5571392" class="indexterm"></a><a id="idp5571872" class="indexterm"></a><a id="idp5572352" class="indexterm"></a><a id="idp5572832" class="indexterm"></a><a id="idp5573312" class="indexterm"></a><a id="idp5573792" class="indexterm"></a><div class="para"><p></p>
				Historically, each locale has an associated “character set” (group of known characters) and a preferred “encoding” (internal representationfor characters within the computer).
			</div><div class="para"><p></p>
				The <span class="emphasis"><em>ISO-8859-1</em></span> (or “Latin 1”) encoding, for instance, was used preferentially in France. But for historical reasons, it did not include certain characters (such as œ, Ÿ, and €). This problem prompted the creation of <span class="emphasis"><em>ISO-8859-15</em></span> (or “Latin 9”, or even “Latin 0”). Among others, it replaced respectively the former international currency symbol (a circle with four branches, ¤), “½”,“¼” and “¾” with the Euro symbol “€”, “œ”, “Œ” and “Ÿ”. Since the encoding for these two sets uses a single octet (8 bits) for each character, the sets only have room for 256 characters. Other languages use other character sets or other encodings, either from the “Latin” family, or otherwise.
			</div><div class="para"><p></p>
				Working with foreign languages often implied regular switches between various encodings and character sets. Furthermore, writing multilingual documents led to further, almost intractable problems. Unicode (a super-catalog of nearly all writing systems from all of the world's languages) was created to work around this problem. One of Unicode's encodings, UTF-8, retains all 128 ASCII symbols (7-bit codes), but handles other characters differently. The others are preceded by a sequence of “escape” characters with a variable length. This allows encoding all Unicode characters on a sequence of one or more octets.
			</div><a id="idp4645640" class="indexterm"></a><a id="idp4646120" class="indexterm"></a><a id="idp4646600" class="indexterm"></a><div class="para"><p></p>
				Applications have slowly migrated, and use of UTF-8 is now wide spread. This was made easier by the fact that this encoding is the standard encoding for XML documents. Outside of specific circumstances, this is the encoding that should generally be used. It has become the default on new installations since <span class="distribution distribution">Etch</span>.
			</div></div><div class="para"><p></p>
				The <span class="pkg pkg">locales</span> package includes all the elements required for proper functioning of “localization” for various applications. During installation, this package will ask a few questions in order to choose supported languages. This set of supported languages can be changed by running <code class="command">dpkg-reconfigure locales</code>.
			</div><div class="para"><p></p>
				You will be asked, first, to choose what “locales” to include. Selecting all English locales (meaning those beginning with“<code class="literal">en_US</code>”) is a reasonable choice. Do not hesitate to choose other locales if the machine will host foreign users. This list of known locales on the system is stored in the <code class="filename">/etc/locale.gen</code> file. It is possible to edit this file by hand, but you should run <code class="command">locale-gen</code> after any modifications. It will generate the necessary files for the proper functioning of added locales and remove any obsolete files.
			</div><div class="para"><p></p>
				The second question, entitled “Set default locale”, requests a default locale. The recommended choice in the U.S.A. is “<code class="literal">en_US.UTF-8</code>”. British English speakers will prefer “<code class="literal">en_GB.UTF-8</code>”, and Canadians will prefer either <code class="literal">en_CA.UTF-8</code>” or, for French, “<code class="literal">fr_CA.UTF-8</code>”. The <code class="filename">/etc/default/locale</code> file will then be modified to set the default locale for the environment variable, <code class="varname">LANG</code>.
			</div><a id="idp2514704" class="indexterm"></a><a id="idp2515184" class="indexterm"></a><a id="idp2515664" class="indexterm"></a><div class="sidebar"><a xmlns="" id="cadre.intro-pam"></a><div class="titlepage"><div><div><h6><span class="emphasis"><em>BEHIND THE SCENES</em></span> <code class="filename">/etc/environment</code> and <code class="filename">/etc/default/locale</code></h6></div></div></div><div class="para"><p></p>
				The <code class="filename">/etc/environment</code> file provides the <code class="command">login</code>, <code class="command">gdm</code>, or even <code class="command">ssh</code> programs with the correct environment variables to be created.
			</div><div class="para"><p></p>
				These applications do not create these variables directly, but rather via a PAM (<code class="filename">pam_env.so</code>) module. PAM (Pluggable Authentication Module) is a modular library centralizing the mechanisms for authentication, session initialization, and password management. See <a class="xref" href="sect.ldap-directory.html#section.config-pam">Section 11.7.3.2, “Configuring PAM”</a> for an example of PAM configuration.
			</div><div class="para"><p></p>
				The <code class="filename">/etc/default/locale</code> file works in a similar manner, but does not contain the <code class="varname">LANG</code> environment variable. This means some PAM users will inherit an environment without localization. Running server programs with regional parameters is generally discouraged; on the other hand, using the implicit regional settings is recommended for programs that open user sessions.
			</div><a id="idp9991848" class="indexterm"></a><a id="idp9992328" class="indexterm"></a></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="section.config-clavier">8.1.2. Configuring the Keyboard</h3></div></div></div><a id="idp9993512" class="indexterm"></a><a id="idp9994232" class="indexterm"></a><div class="para"><p></p>
				Until Debian <span class="distribution distribution">Lenny</span>, the keyboard layout was controlled by two different systems: for the console, <span class="pkg pkg">console-tools</span>/<span class="pkg pkg">console-data</span>; for graphical environments, <span class="pkg pkg">keyboard-configuration</span>. Since <span class="distribution distribution">Squeeze</span>, these two systems have been unified and <span class="pkg pkg">keyboard-configuration</span> controls the keyboard layout in both console and graphical mode. The <code class="command">dpkg-reconfigure keyboard-configuration</code> command can be used at any time to reset the keyboard layout.
			</div><a id="idp9997224" class="indexterm"></a><a id="idp9997768" class="indexterm"></a><a id="idp9998312" class="indexterm"></a><div class="para"><p></p>
				<a id="idp9999016" class="indexterm"></a>
				The questions are relevant to the physical keyboard layout (a standard PC keyboard in the US will be a “Generic 104 key”), then the layout to choose (generally “US”), and then the position of the AltGr key (right Alt). Finally comes the question of the key to use for the “Compose key”, which allows for entering special characters by combining keystrokes. Type successively <span class="keycap"><strong>Compose</strong></span> <span class="keycap"><strong>'</strong></span> <span class="keycap"><strong>e</strong></span> and produce an e-acute (“é”). All these combinations are described in the <code class="filename">/usr/share/X11/locale/en_US.UTF-8/Compose</code> file (or another file, determined according to the current locale indicated by <code class="filename">/usr/share/X11/locale/compose.dir</code>). 
				<a id="idp10001288" class="indexterm"></a>
				 <a id="idp10001928" class="indexterm"></a>
				 <a id="idp10002568" class="indexterm"></a>
				 <a id="idp10003368" class="indexterm"></a>
			</div><div class="para"><p></p>
				Note that the keyboard configuration for graphical mode described here only affects the default layout; the GNOME and KDE environments, among others, provide a keyboard control panel in their preferences allowing each user to have their own configuration. Some additional options regarding the behavior of some particular keys are also available in these control panels.
			</div></div><div class="section"><div class="titlepage"><div><div><h3 class="title" id="section.migration-utf8">8.1.3. Migrating to UTF-8</h3></div></div></div><div class="para"><p></p>
				The generalization of UTF-8 encoding has been a long awaited solution to numerous difficulties with interoperability, since it facilitates international exchange and removes the arbitrary limits on characters that can be used in a document. The one drawback is that it had to go through a rather difficult transition phase. Since it could not be completely transparent (that is, it could not happen at the same time all over the world over), two conversion operations were required: one on file contents, and the other on filenames. Fortunately, the bulk of this migration has been completed and we discuss it largely for reference.
			</div><div class="sidebar"><div class="titlepage"><div><div><h6><span class="emphasis"><em>CULTURE</em></span> <span class="foreignphrase"><em class="foreignphrase">Mojibake</em></span> and interpretation errors</h6></div></div></div><div class="para"><p></p>
				When a text is sent (or stored) without encoding information, it is not always possible for the recipient to know with certainty what convention to use for determining the meaning of a set of bytes. You can usually get an idea by getting statistics on the distribution of values present in the text, but that doesn't always give a definite answer. When the encoding system chosen for reading differs from that used in writing the file, the bytes are mis-interpreted, and you get, at best, errors on some characters, or, at worst, something completely illegible.
			</div><div class="para"><p></p>
				Thus, if a French text appears normal with the exception of accented letters and certain symbols which appear to be replaced with sequences of characters like “Ã©” or Ã¨” or “Ã§”, it is probably a file encoded as UTF-8 but interpreted as ISO-8859-1 or ISO-8859-15. This is a sign of a local installation that has not yet been migrated to UTF-8. If, instead, you see question marks instead of accented letters — even if these question marks seem to also replace a character that should have followed the accented letter — it is likely that your installation is already configured for UTF-8 and that you have been sent a document encoded in Western ISO.
			</div><div class="para"><p></p>
				So much for “simple” cases. These cases only appear in Western culture, since Unicode (and UTF-8) was designed to maximize the common points with historical encodings for Western languages based on the Latin alphabet, which allows recognition of parts of the text even when some characters are missing.
			</div><div class="para"><p></p>
				In more complex configurations, which, for example, involve two environments corresponding to two different languages that do not use the same alphabet, you often get completely illegible results — a series of abstract symbols that have nothing to do with each other. This is especially common with Asian languages due to their numerous languages and writing systems. The Japanese word <span class="foreignphrase"><em class="foreignphrase">mojibake</em></span> has been adopted to describe this phenomenon. When it appears, diagnosis is more complex and the simplest solution is often to simply migrate to UTF-8 on both sides.
			</div></div><div class="para"><p></p>
				As far as file names are concerned, the migration can be relatively simple. The <code class="command">convmv</code> tool (in the package with the same name) was created specifically for this purpose; it allows renaming files from one encoding to another. The use of this tool is relatively simple, but we recommend doing it in two steps to avoid surprises. The following example illustrates a UTF-8 environment containing directory names encoded in ISO-8859-15, and the use of <code class="command">convmv</code> to rename them.
			</div><pre class="screen"><code class="computeroutput">$ </code><strong class="userinput"><code>ls travail/</code></strong>
<code class="computeroutput">Ic?nes  ?l?ments graphiques  Textes
$ </code><strong class="userinput"><code>convmv -r -f iso-8859-15 -t utf-8 travail/</code></strong>
<code class="computeroutput">Starting a dry run without changes...
mv "travail/�l�ments graphiques"        "travail/Éléments graphiques"
mv "travail/Ic�nes"     "travail/Icônes"
No changes to your files done. Use --notest to finally rename the files.
$ </code><strong class="userinput"><code>convmv -r --notest -f iso-8859-15 -t utf-8 travail/</code></strong>
<code class="computeroutput">mv "travail/�l�ments graphiques"        "travail/Éléments graphiques"
mv "travail/Ic�nes"     "travail/Icônes"
Ready!
$ </code><strong class="userinput"><code>ls travail/</code></strong>
<code class="computeroutput">Éléments graphiques  Icônes  Textes</code></pre><div class="para"><p></p>
				For the file content, conversion procedures are more complex due to the vast variety of existing file formats. Some file formats include encoding information that facilitates the tasks of the software used to treat them; it is sufficient, then, to open these files and re-save them specifying UTF-8 encoding. In other cases, you have to specify the original encoding (ISO-8859-1 or “Western”, or ISO-8859-15 or “Western (European)”, according to the formulations) when opening the file.
			</div><div class="para"><p></p>
				For simple text files, you can use <code class="command">recode</code> (in the package of the same name) which allows automatic recoding. This tool has numerous options so you can play with its behavior. We recommend you consult the documentation, the <span class="citerefentry"><span class="refentrytitle">recode</span>(1)</span> man page, or the <span class="citerefentry"><span class="refentrytitle">recode</span></span> info page (more complete).
			</div></div></div></div><div id="site_footer"></div><script type="text/javascript">
		$("#site_footer").load("../../../../../footer.html");
	</script><ul class="docnav"><li class="previous"><a accesskey="p" href="sect.common-procedures.html"><strong>Prev</strong>7.2. Common Procedures</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="sect.config-network.html"><strong>Next</strong>8.2. Configuring the Network</a></li></ul></body></html>
